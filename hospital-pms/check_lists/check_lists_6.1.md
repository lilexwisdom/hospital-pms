# Subtask 6.1 실행 검증 체크리스트

## 환자 목록 페이지 구현 (TanStack Table 기반)

### 1. 환경 설정 검증

- [v] TanStack Table v8이 package.json에 정상적으로 설치되었는지 확인
- [v] 개발 서버가 오류 없이 실행되는지 확인 (`npm run dev`)
- [v] TypeScript 타입 체크 통과 확인 (`npm run type-check`)

### 2. 페이지 접근 및 권한 검증

- [v] `/patients` 페이지에 정상 접근 가능한지 확인
- [v] CS, Manager, Admin 권한으로 접근 시 페이지가 표시되는지 확인
- [ ] BD 권한으로 접근 시 unauthorized 페이지로 리다이렉트되는지 확인

### 3. 테이블 기본 기능 검증

- [v] 환자 목록이 테이블에 정상적으로 표시되는지 확인
- [v] 페이지네이션이 작동하는지 확인 (다음/이전 페이지 이동)
- [v] 페이지당 표시 행 수 변경이 작동하는지 확인 (10, 20, 30, 40, 50)
- [v] 로딩 중 스켈레톤 UI가 표시되는지 확인

### 4. 검색 기능 검증

- [v] 이름으로 검색이 작동하는지 확인
- [v] 전화번호로 검색이 작동하는지 확인
- [v] 이메일로 검색이 작동하는지 확인
- [v] 환자번호로 검색이 작동하는지 확인
- [v] 검색 입력 시 디바운싱(300ms)이 적용되는지 확인

### 5. 필터 기능 검증

- [v] 상태 필터 (전체/대기중/활성/비활성)가 작동하는지 확인
- [v] 담당자 필터가 CS/BD/Admin 사용자 목록을 표시하는지 확인
- [v] 담당자 필터 적용이 작동하는지 확인
- [ ] 날짜 범위 필터 (시작일/종료일)가 작동하는지 확인
- [v] 질병 필터 8개 항목이 모두 표시되는지 확인
- [v] 질병 필터 다중 선택이 작동하는지 확인
- [v] 필터 초기화 버튼이 모든 필터를 초기화하는지 확인

### 6. 정렬 기능 검증

- [v] 환자번호 컬럼 정렬이 작동하는지 확인
- [ ] 이름 컬럼 정렬이 작동하는지 확인
- [ ] 전화번호 컬럼 정렬이 작동하는지 확인
- [ ] 이메일 컬럼 정렬이 작동하는지 확인
- [ ] 상태 컬럼 정렬이 작동하는지 확인
- [ ] CS 담당자 컬럼 정렬이 작동하는지 확인
- [ ] 등록일 컬럼 정렬이 작동하는지 확인

### 7. 열 표시/숨기기 기능 검증

- [v] "열 표시/숨기기" 드롭다운이 작동하는지 확인
- [v] 각 컬럼의 체크박스가 정상적으로 표시되는지 확인
- [v] 컬럼 숨기기/표시가 즉시 반영되는지 확인

### 8. 행 선택 기능 검증

- [v] 개별 행 체크박스 선택이 작동하는지 확인
- [v] 전체 선택 체크박스가 현재 페이지의 모든 행을 선택하는지 확인
- [v] 선택된 행 수가 하단에 정확히 표시되는지 확인

### 9. 상세보기 기능 검증

- [v] 각 행의 "상세보기" 버튼이 표시되는지 확인
- [v] 상세보기 클릭 시 `/patients/{id}` 페이지로 이동하는지 확인

### 10. 헤더 버튼 기능 검증

- [v] "새 환자 등록" 버튼 클릭 시 `/patients/new`로 이동하는지 확인
- [v] "가져오기" 버튼이 표시되는지 확인 (기능은 TODO 상태)
- [v] "내보내기" 버튼이 표시되는지 확인 (기능은 TODO 상태)

### 11. 에러 처리 검증

- [ ] 데이터 로드 실패 시 에러 메시지가 표시되는지 확인
- [ ] "다시 시도" 버튼이 작동하는지 확인
- [ ] 검색 결과가 없을 때 "검색 결과가 없습니다" 메시지가 표시되는지 확인

### 12. 반응형 디자인 검증

- [v] 데스크톱 화면에서 레이아웃이 정상적으로 표시되는지 확인
- [v] 태블릿 화면에서 레이아웃이 적절히 조정되는지 확인
- [v] 모바일 화면에서 테이블이 스크롤 가능한지 확인

---

## 구현 내용 요약

### 완료된 작업

1. TanStack Table v8 설치 및 설정
2. 환자 관련 타입 정의 (`patient.types.ts`, `database.types.ts`)
3. `usePatientTable` 커스텀 훅 구현 (서버 사이드 페이지네이션 포함)
4. `PatientFilters` 컴포넌트 구현 (디바운싱된 검색, 다중 필터)
5. `PatientTable` 컴포넌트 구현 (정렬, 열 가시성 토글)
6. 환자 목록 페이지 통합 구현
7. 로딩 상태 및 스켈레톤 UI 구현

### 생성된 파일

- `/src/types/patient.types.ts`
- `/src/types/database.types.ts`
- `/src/hooks/usePatientTable.tsx`
- `/src/hooks/useDebounce.ts`
- `/src/components/patients/PatientFilters.tsx`
- `/src/components/patients/PatientTable.tsx`
- `/src/components/patients/index.ts`
- `/src/app/(protected)/patients/page.tsx` (업데이트됨)

### 검증 완료 후 작업

- [ ] 모든 체크리스트 항목 검증 완료
- [ ] 발견된 문제 수정 완료
- [ ] TaskMaster에서 subtask 6.1 상태를 'done'으로 업데이트
- [ ] Git commit & push 실행
