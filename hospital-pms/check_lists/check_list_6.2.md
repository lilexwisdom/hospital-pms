# Subtask 6.2 검증 체크리스트

## 환자 상세 페이지 탭 구조 구현 검증

### 1. 기본 기능 테스트

#### 1.1 라우팅 및 페이지 접근

- [v] `/patients/[id]` URL로 환자 상세 페이지 접근 가능
- [ ] 권한이 없는 사용자는 `/unauthorized`로 리다이렉션
- [ ] CS, Manager, Admin 역할만 접근 가능
- [v] 존재하지 않는 환자 ID로 접근 시 에러 메시지 표시

#### 1.2 페이지 레이아웃

- [v] 페이지 헤더에 환자 이름과 ID가 표시됨
- [v] "뒤로 가기" 버튼이 작동하여 환자 목록으로 이동
- [v] "정보 수정" 버튼이 표시됨 (클릭 시 edit 페이지로 이동 예정)
- [v] 더보기 메뉴(⋮)가 표시되고 드롭다운 메뉴가 열림

### 2. 탭 네비게이션 테스트

#### 2.1 탭 구성

- [v] 4개의 탭이 표시됨: 개요, 의료정보, 상담이력, 예약정보
- [v] 기본적으로 "개요" 탭이 선택됨
- [v] 각 탭 클릭 시 해당 컨텐츠가 표시됨

#### 2.2 URL 쿼리 파라미터 연동

- [v] 탭 전환 시 URL에 `?tab=overview` 같은 쿼리 파라미터가 추가됨
- [v] URL로 직접 특정 탭 접근 가능 (예: `/patients/1?tab=medical`)
- [v] 브라우저 뒤로/앞으로 버튼으로 탭 전환 이력 탐색 가능

### 3. 각 탭 컨텐츠 검증

#### 3.1 개요 탭 (PatientOverview)

- [v] 환자 기본 정보 표시 (이름, 생년월일, 연락처, 이메일, 주소)
- [v] 환자 상태 및 담당자 정보 표시
- [v] 건강 상태 요약 (당뇨병, 고혈압, 고지혈증, 암) 표시
- [ ] 메모가 있는 경우 메모 섹션 표시
- [v] 빠른 작업 버튼들이 표시됨 (전화, 이메일, 예약, 상담 기록)

#### 3.2 의료정보 탭 (MedicalInfo)

- [v] 주요 질환 배지가 올바르게 표시됨
- [v] 5개의 서브 탭 표시: 과거력, 복약정보, 수술이력, 알러지, 검사결과
- [v] 각 서브 탭 전환이 정상 작동
- [v] 데이터가 없는 경우 "등록된 정보가 없습니다" 메시지와 추가 버튼 표시
- [v] 각 섹션의 "추가" 버튼이 표시됨

#### 3.3 상담이력 탭 (ConsultationHistory)

- [v] 상담 기록 추가 버튼이 표시됨
- [v] 검색 입력 필드가 작동함
- [v] 상담 유형 필터가 작동함 (전화, 이메일, 방문, 메시지)
- [v] 상담 이력이 타임라인 형태로 표시됨
- [v] 각 상담 기록 클릭 시 상세 내용이 펼쳐짐/접힘
- [v] 상담 날짜, 담당자, 유형, 시간이 올바르게 표시됨

#### 3.4 예약정보 탭 (AppointmentInfo)

- [v] 캘린더/목록 뷰 전환 버튼이 작동함
- [v] 예약 추가 버튼이 표시됨
- [v] **캘린더 뷰**:
  - [v] 한국어로 캘린더가 표시됨
  - [v] 예약이 있는 날짜에 점 표시
  - [v] 날짜 선택 시 우측에 해당 날짜의 예약 표시
- [v] **목록 뷰**:
  - [v] 예정된 예약과 지난 예약이 구분되어 표시
  - [v] 각 예약의 상태가 배지로 표시됨
  - [v] 예약 타입별로 다른 색상으로 구분

### 4. 데이터 로딩 및 에러 처리

#### 4.1 로딩 상태

- [ ] 페이지 로딩 중 스켈레톤 UI가 표시됨
- [v] 각 탭의 데이터 로딩 중 적절한 로딩 표시

#### 4.2 에러 처리

- [ ] 환자 데이터 로딩 실패 시 에러 메시지 표시
- [ ] "다시 시도" 또는 "목록으로 돌아가기" 버튼 제공

### 5. 반응형 디자인

- [v] 데스크톱 화면에서 레이아웃이 올바르게 표시됨
- [v] 태블릿 화면에서 레이아웃이 적절히 조정됨
- [v] 모바일 화면에서 탭이 스크롤 가능하고 컨텐츠가 세로로 정렬됨

### 6. 성능 및 최적화

- [v] 탭 전환이 즉각적으로 이루어짐
- [v] 불필요한 리렌더링이 발생하지 않음
- [ ] 대량의 상담 이력/예약 정보가 있어도 페이지가 느려지지 않음

### 7. 접근성

- [v] 키보드로 모든 탭과 버튼에 접근 가능
- [v] 탭 포커스 시 시각적 표시가 명확함
- [ ] 스크린 리더로 탭 네비게이션이 가능함

### 8. 타입스크립트 체크

```bash
npm run typecheck
```

- [ ] 타입 에러가 없음

### 9. 린트 체크

```bash
npm run lint
```

- [ ] 린트 에러가 없음

---

## 검증 완료 후 작업

- [ ] TaskMaster에서 subtask 6.2 상태를 'done'으로 업데이트
- [ ] Git commit & push 실행

---

개선해야할 사항 :

1. 건강 상태 요약 (당뇨병, 고혈압, 고지혈증, 암) 표시 ==> 있음 의 시인성 .. 있음 없음이 아니라 O/X 및 색깔로 표시
